    <!-- Portainer Tab -->
    <div class="tab-content" id="portainer">
        <div class="portainer-page">
            <div class="page-header">
                <div class="page-title">ğŸ³ Portainer Master - Formation Docker ComplÃ¨te</div>
                <p>De dÃ©butant Ã  expert Docker - MaÃ®trisez l'Ã©cosystÃ¨me conteneurisation</p>
                
                <!-- VidÃ©o de prÃ©sentation -->
                <div style="background: rgba(0,123,255,0.1); padding: 20px; border-radius: 15px; margin: 20px 0;">
                    <h3 style="color: #007bff; margin-bottom: 15px;">ğŸ“º PrÃ©sentation Portainer</h3>
                    <div style="background: #000; padding: 40px; border-radius: 10px; text-align: center; color: #666;">
                        <div style="font-size: 3em; margin-bottom: 10px;">â–¶ï¸</div>
                        <p><strong>VidÃ©o :</strong> "Portainer - L'interface qui rÃ©volutionne Docker"</p>
                        <p style="font-size: 0.9em;">DurÃ©e : 12min | Niveau : DÃ©butant</p>
                        <a href="https://www.youtube.com/watch?v=8q9k1qzXRk4" target="_blank" class="btn btn-primary">ğŸ¬ Voir la VidÃ©o</a>
                    </div>
                </div>
                
                <div class="lab-stats" style="margin-top: 15px;">
                    <div class="stat-item">
                        <div class="stat-number">10</div>
                        <div class="stat-label">Modules Formation</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">50+</div>
                        <div class="stat-label">Exercices Pratiques</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">10h</div>
                        <div class="stat-label">Formation ComplÃ¨te</div>
                    </div>
                </div>
            </div>

            <div class="learning-path">
                
                <!-- Module 1: Fondamentaux Docker -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">1</div>
                        <div class="step-title">Fondamentaux Docker & PremiÃ¨re Connexion</div>
                        <button class="solutions-tab" onclick="showSolutions(1)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š ThÃ©orie Docker Fondamentale</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ³ Ã‰cosystÃ¨me Docker</h4>
                                <p><strong>Docker Engine :</strong> Moteur de conteneurisation<br>
                                <strong>Docker Images :</strong> Templates statiques (comme des ISO)<br>
                                <strong>Docker Containers :</strong> Instances en cours d'exÃ©cution<br>
                                <strong>Docker Registry :</strong> Hub central (Docker Hub, registries privÃ©s)</p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ—ï¸ Architecture Docker CyberLab</h4>
                                <div style="background: #1e1e1e; padding: 15px; border-radius: 8px; font-family: monospace;">
<pre style="color: #00ff88; margin: 0;">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Portainer     â”‚â”€â”€â”€â–¶â”‚  Docker Engine   â”‚
â”‚   :9000         â”‚    â”‚  (Daemon)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                       â”‚   CyberLab      â”‚
                       â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”‚
                       â”‚ â”‚DVWA â”‚ â”‚Kali â”‚ â”‚
                       â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           RÃ©seau : v100_cyberlab_network
           Subnet : 172.35.0.0/24
</pre>
                                </div>
                            </div>
                            
                            <ul class="objectives-list">
                                <li>MaÃ®triser les concepts fondamentaux Docker</li>
                                <li>Comprendre Portainer comme GUI pour Docker</li>
                                <li>Identifier l'architecture CyberLab complÃ¨te</li>
                                <li>Naviguer efficacement dans l'interface</li>
                            </ul>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ›  PremiÃ¨re Connexion GuidÃ©e</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 1.1: Setup & Discovery</div>
                                
                                <div class="checklist">
                                    <h4>âœ… Phase 1: PremiÃ¨re connexion</h4>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Ouvrir Portainer : <strong>http://127.0.0.1:9000</strong></span>
                                        <button class="hint-btn" onclick="showHint('portainer_connect')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Se connecter avec les credentials existants</span>
                                        <button class="hint-btn" onclick="showHint('portainer_login')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Observer le dashboard : containers actifs (~13), images (~25)</span>
                                        <button class="hint-btn" onclick="showHint('dashboard_reading')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Identifier l'endpoint "local" Docker daemon</span>
                                    </div>
                                </div>
                                
                                <div class="checklist">
                                    <h4>âœ… Phase 2: Interface Discovery</h4>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Menu gauche : identifier les 8 sections principales</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Dashboard : noter CPU/RAM usage du Docker Engine</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Quick actions : repÃ©rer "Add container" (ne pas crÃ©er)</span>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                                    <p><strong>âš ï¸ IMPORTANT :</strong> CyberLab est fonctionnel - nous n'allons PAS modifier les conteneurs existants !</p>
                                </div>
                                
                                <div>
                                    <a href="http://127.0.0.1:9000" target="_blank" class="btn btn-primary">ğŸš€ Ouvrir Portainer</a>
                                    <button class="btn btn-success" onclick="validateExercise(1, 1)">âœ… Valider Exercice</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 2: Observation des Conteneurs -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">2</div>
                        <div class="step-title">Observation & Analyse des Conteneurs CyberLab</div>
                        <button class="solutions-tab" onclick="showSolutions(2)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š Analyse des Conteneurs</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ” MÃ©triques Ã  Observer</h4>
                                <p>
                                â€¢ <strong>Status :</strong> Running, Exited, Paused, Restarting<br>
                                â€¢ <strong>Uptime :</strong> Temps depuis le dÃ©marrage<br>
                                â€¢ <strong>CPU Usage :</strong> % utilisation processeur<br>
                                â€¢ <strong>Memory :</strong> RAM consommÃ©e vs disponible<br>
                                â€¢ <strong>Network I/O :</strong> Trafic entrant/sortant<br>
                                â€¢ <strong>Ports :</strong> Mappings port interne:externe
                                </p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ“Š Architecture CyberLab</h4>
                                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #007bff;">
                                    <p><strong>Services principaux Ã  analyser :</strong><br>
                                    â€¢ <strong>cyberlab_dashboard</strong> (nginx) - Port 8080<br>
                                    â€¢ <strong>cyberlab_webgoat</strong> (Java app) - Port 8082<br>
                                    â€¢ <strong>cyberlab_dvwa</strong> (PHP/Apache) - Port 8081<br>
                                    â€¢ <strong>cyberlab_juice_shop</strong> (Node.js) - Port 8083<br>
                                    â€¢ <strong>cyberlab_mysql</strong> (Base de donnÃ©es)<br>
                                    â€¢ <strong>cyberlab_kali</strong> (Pentesting tools)</p>
                                </div>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ” Observation Active</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 2.1: Inventaire Complet CyberLab</div>
                                
                                <p><strong>Mission :</strong> Cartographier l'infrastructure CyberLab (OBSERVATION uniquement)</p>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Containers â†’ cyberlab_dashboard â†’ Inspect : noter l'image utilisÃ©e</span>
                                        <button class="hint-btn" onclick="showHint('container_inspect')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Network section : identifier l'IP (172.35.0.20)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Volumes : examiner le bind mount vers /var/www/html</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Environment : lister 3 variables d'environnement</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Ports : identifier le mapping 80:8080</span>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.05)); border: 2px solid #ffd700; border-radius: 15px; padding: 20px; margin: 20px 0;">
                                    <h4 style="color: #ff8c00;">ğŸ” Challenge : WebGoat Forensics</h4>
                                    <p>Pour <strong>cyberlab_webgoat</strong>, dÃ©terminez :</p>
                                    <p>â€¢ Quelle version Java utilise-t-il ? (logs)<br>
                                    â€¢ Combien de ports expose-t-il ?<br>
                                    â€¢ Quelle est sa consommation RAM actuelle ?<br>
                                    â€¢ Ã€ quels autres conteneurs peut-il parler ?</p>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 2.2: Monitoring en Temps RÃ©el</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Container cyberlab_webgoat â†’ Stats : observer mÃ©triques temps rÃ©el</span>
                                        <button class="hint-btn" onclick="showHint('realtime_stats')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>GÃ©nÃ©rer trafic : ouvrir http://127.0.0.1:8082 plusieurs fois</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Observer impact sur CPU/Memory pendant l'activitÃ©</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Comparer les stats avec cyberlab_dashboard au repos</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 3: Analyse Logs Professionnelle -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">3</div>
                        <div class="step-title">Analyse des Logs & Debugging</div>
                        <button class="solutions-tab" onclick="showSolutions(3)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š Logs Docker Professionnels</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ“‹ Types de Logs</h4>
                                <p>
                                â€¢ <strong>Application logs :</strong> Nginx, Apache, Java apps<br>
                                â€¢ <strong>Error logs :</strong> Exceptions, crashes, warnings<br>
                                â€¢ <strong>Access logs :</strong> RequÃªtes HTTP, connexions<br>
                                â€¢ <strong>System logs :</strong> DÃ©marrage/arrÃªt services<br>
                                â€¢ <strong>Security logs :</strong> Authentifications, intrusions
                                </p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ¯ Patterns Ã  ReconnaÃ®tre</h4>
                                <p>
                                â€¢ <strong>Timestamps :</strong> Chronologie des Ã©vÃ©nements<br>
                                â€¢ <strong>Log levels :</strong> INFO, WARN, ERROR, FATAL<br>
                                â€¢ <strong>IPs sources :</strong> Origine des requÃªtes<br>
                                â€¢ <strong>Status codes :</strong> 200, 404, 500, 403<br>
                                â€¢ <strong>Response times :</strong> Performance applicative
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ” Lab Analyse Logs Live</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 3.1: Logs Web Dashboard</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Logs cyberlab_dashboard â†’ Identifier format nginx</span>
                                        <button class="hint-btn" onclick="showHint('nginx_logs')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>GÃ©nÃ©rer activitÃ© : naviguer sur http://127.0.0.1:8080</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Recharger logs â†’ Observer nouvelles entrÃ©es temps rÃ©el</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Analyser : IP source, mÃ©thode HTTP, code rÃ©ponse, taille</span>
                                    </div>
                                </div>
                                
                                <div style="background: #1e1e1e; color: #00ff88; padding: 15px; border-radius: 8px; font-family: monospace; margin: 15px 0;">
                                    <div style="color: #ccc; margin-bottom: 10px;">Exemple log nginx :</div>
                                    <div>172.35.0.1 - - [25/Aug/2025:14:30:45] "GET /exploration_guide.html HTTP/1.1" 200 76041 "-" "Mozilla/5.0"</div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 3.2: Debug Application Java</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Logs cyberlab_webgoat â†’ Chercher "Started StartWebGoat"</span>
                                        <button class="hint-btn" onclick="showHint('java_startup')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Identifier version JVM et profil actif</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Noter port d'Ã©coute interne et modules chargÃ©s</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>RepÃ©rer warnings ou exceptions Ã©ventuels</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 3.3: CorrÃ©lation Multi-Services</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Ouvrir 3 onglets : dashboard, webgoat, juice_shop logs</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Naviguer simultanÃ©ment sur les 3 applications</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>CorrÃ©ler : mÃªme timestamp, IPs, patterns d'usage</span>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.05)); border: 2px solid #ffd700; border-radius: 15px; padding: 20px; margin: 20px 0;">
                                    <h4 style="color: #ff8c00;">ğŸ”¥ Pro Tip : Log Analysis</h4>
                                    <p><strong>Technique avancÃ©e :</strong></p>
                                    <p>1. Noter timestamp exact d'une action<br>
                                    2. Chercher le mÃªme timestamp dans les logs<br>
                                    3. Tracer la chaÃ®ne : User â†’ Nginx â†’ Application â†’ Database<br>
                                    4. Identifier les goulots d'Ã©tranglement</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 4: RÃ©seaux Docker -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">4</div>
                        <div class="step-title">RÃ©seaux Docker - CrÃ©ation & Tests</div>
                        <button class="solutions-tab" onclick="showSolutions(4)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š Architecture RÃ©seau</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸŒ Types de RÃ©seaux Docker</h4>
                                <div style="background: #1e1e1e; padding: 15px; border-radius: 8px; font-family: monospace;">
<pre style="color: #00ff88; margin: 0;">
ğŸ”’ CYBERLAB NETWORK     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   172.35.0.0/24        â”‚   Dashboard     â”‚
                        â”‚   172.35.0.20   â”‚
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚     Gateway         â”‚   WebGoat       â”‚
   â”‚     172.35.0.1      â”‚   172.35.0.80   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                        â”‚   DVWA          â”‚
                        â”‚   172.35.0.81   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ TEST NETWORK         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   10.10.0.0/24         â”‚   Test Apps     â”‚
                        â”‚   10.10.0.x     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>
                                </div>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ”§ Isolation & ConnectivitÃ©</h4>
                                <p>
                                â€¢ <strong>Bridge networks :</strong> IsolÃ©s par dÃ©faut<br>
                                â€¢ <strong>Custom networks :</strong> DNS intÃ©grÃ©<br>
                                â€¢ <strong>Multiple networks :</strong> Un conteneur = plusieurs rÃ©seaux<br>
                                â€¢ <strong>Network policies :</strong> ContrÃ´le de trafic<br>
                                â€¢ <strong>Port exposition :</strong> Host â†’ Container
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ”§ CrÃ©ation RÃ©seaux Test</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 4.1: Analyse RÃ©seau CyberLab</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Networks â†’ v100_cyberlab_network â†’ Inspect</span>
                                        <button class="hint-btn" onclick="showHint('network_inspect')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Subnet : vÃ©rifier 172.35.0.0/24</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Gateway : confirmer 172.35.0.1</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Connected containers : lister les IPs des services</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Driver : noter "bridge" avec DNS personnalisÃ©</span>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.05)); border: 2px solid #ffd700; border-radius: 15px; padding: 20px; margin: 20px 0;">
                                    <h4 style="color: #ff8c00;">ğŸ—ºï¸ Plan d'Adressage CyberLab</h4>
                                    <p><strong>Cartographie rÃ©seau :</strong></p>
                                    <p>â€¢ Gateway : 172.35.0.1<br>
                                    â€¢ Portainer : 172.35.0.2<br>
                                    â€¢ Dashboard : 172.35.0.20<br>
                                    â€¢ WebGoat : 172.35.0.80<br>
                                    â€¢ DVWA : 172.35.0.81<br>
                                    â€¢ Kali : 172.35.0.100</p>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 4.2: CrÃ©er RÃ©seau de Test</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Networks â†’ Add network â†’ "training_network"</span>
                                        <button class="hint-btn" onclick="showHint('create_network')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Driver: bridge, Subnet: 10.20.0.0/24</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Gateway: 10.20.0.1 (auto), Deploy le rÃ©seau</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>VÃ©rifier dans la liste des rÃ©seaux disponibles</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 4.3: Test ConnectivitÃ©</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Containers â†’ Add container â†’ nginx (nom: test-web1)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Network: training_network, Port: 8090:80</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Deploy â†’ Tester http://127.0.0.1:8090</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>CrÃ©er test-web2 sur mÃªme rÃ©seau (port 8091)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Console â†’ test-web1 â†’ ping test-web2 (par nom)</span>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                                    <p><strong>ğŸ§ª RÃ©sultat attendu :</strong> Les conteneurs peuvent se pinger par nom grÃ¢ce au DNS Docker intÃ©grÃ© !</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 5: Volumes & Persistance -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">5</div>
                        <div class="step-title">Volumes Docker - Gestion des DonnÃ©es</div>
                        <button class="solutions-tab" onclick="showSolutions(5)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š StratÃ©gies de Persistance</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ’¾ Types de Volumes</h4>
                                <div style="background: #1e1e1e; padding: 15px; border-radius: 8px; font-family: monospace;">
<pre style="color: #00ff88; margin: 0;">
ğŸ—‚ï¸ BIND MOUNTS           ğŸ—„ï¸ DOCKER VOLUMES        ğŸƒ TMPFS
/host/path               docker volume create      RAM temporaire
     â†“                        â†“                         â†“
/container/path       /var/lib/docker/volumes/   /container/tmpfs

âœ… ContrÃ´le total        âœ… GÃ©rÃ© par Docker        âœ… Performance max
âŒ DÃ©pendance hÃ´te       âŒ Moins flexible         âŒ Non persistant
ğŸ¯ DÃ©veloppement        ğŸ¯ Production              ğŸ¯ Cache/Temp
</pre>
                                </div>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ”„ Cas d'Usage</h4>
                                <p>
                                â€¢ <strong>Bases de donnÃ©es :</strong> Volumes Docker (mysql_data)<br>
                                â€¢ <strong>Configuration :</strong> Bind mounts (/etc/nginx)<br>
                                â€¢ <strong>Logs :</strong> Volumes avec rotation automatique<br>
                                â€¢ <strong>Cache :</strong> tmpfs pour performance<br>
                                â€¢ <strong>Backup :</strong> Export/Import volumes
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ’¾ Manipulation Volumes Test</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 5.1: Audit Volumes CyberLab</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Volumes â†’ Lister tous les volumes (mysql_data, wazuh_data...)</span>
                                        <button class="hint-btn" onclick="showHint('volume_inspect')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>mysql_data â†’ Inspect â†’ Noter le mountpoint systÃ¨me</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>VÃ©rifier taille utilisÃ©e et driver (local)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Identifier quels conteneurs utilisent chaque volume</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 5.2: CrÃ©er & Tester Volume</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Volumes â†’ Add volume â†’ "training_data"</span>
                                        <button class="hint-btn" onclick="showHint('create_volume')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Driver: local, Deploy le volume</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Container â†’ Alpine â†’ Volume training_data:/data</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Console â†’ echo "Test persistance" > /data/test.txt</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Supprimer conteneur â†’ RecrÃ©er â†’ VÃ©rifier /data/test.txt</span>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                                    <p><strong>âœ… SuccÃ¨s :</strong> Le fichier persiste mÃªme aprÃ¨s suppression du conteneur !</p>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 5.3: Volume Sharing</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>CrÃ©er nginx-writer avec volume training_data:/usr/share/nginx/html</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Console nginx â†’ echo "<h1>Shared Data</h1>" > /usr/share/nginx/html/index.html</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>CrÃ©er nginx-reader avec mÃªme volume (port 8092)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Tester http://127.0.0.1:8092 â†’ Voir contenu partagÃ©</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 6: Docker Compose & Stacks -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">6</div>
                        <div class="step-title">Docker Compose & Stacks - Orchestration</div>
                        <button class="solutions-tab" onclick="showSolutions(6)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š Orchestration Multi-Conteneurs</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ“‹ Anatomie docker-compose.yml</h4>
                                <div style="background: #1e1e1e; padding: 15px; border-radius: 8px; font-family: monospace;">
<pre style="color: #00ff88; margin: 0;">
version: '3.8'

services:
  web:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - web_data:/usr/share/nginx/html
    networks:
      - app_network
    depends_on:
      - db

  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: secret
      MYSQL_DATABASE: webapp
    volumes:
      - db_data:/var/lib/mysql

volumes:
  web_data:
  db_data:

networks:
  app_network:
</pre>
                                </div>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ¯ Avantages Stacks Portainer</h4>
                                <p>
                                â€¢ <strong>Interface graphique :</strong> Ã‰dition YAML simplifiÃ©e<br>
                                â€¢ <strong>Validation :</strong> Syntaxe vÃ©rifiÃ©e avant dÃ©ploiement<br>
                                â€¢ <strong>Variables d'env :</strong> Gestion centralisÃ©e<br>
                                â€¢ <strong>Monitoring :</strong> Ã‰tat de tous les services<br>
                                â€¢ <strong>Rollback :</strong> Retour versions prÃ©cÃ©dentes
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ—ï¸ Stacks en Action</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 6.1: Analyse Stack CyberLab</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Stacks â†’ formation-cybersecurite â†’ Editor</span>
                                        <button class="hint-btn" onclick="showHint('stack_editor')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Section services : compter les ~13 services dÃ©finis</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Networks : repÃ©rer v100_cyberlab_network</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Volumes : identifier mysql_data, wazuh_data</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>DÃ©pendances : depends_on entre services</span>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.05)); border: 2px solid #ffd700; border-radius: 15px; padding: 20px; margin: 20px 0;">
                                    <h4 style="color: #ff8c00;">ğŸ” DÃ©cryptage Stack CyberLab</h4>
                                    <p><strong>Structure analysÃ©e :</strong></p>
                                    <p>â€¢ <strong>13 services</strong> orchestrÃ©s<br>
                                    â€¢ <strong>RÃ©seau custom</strong> avec IPs fixes<br>
                                    â€¢ <strong>Volumes persistants</strong> pour donnÃ©es<br>
                                    â€¢ <strong>Variables d'env</strong> centralisÃ©es<br>
                                    â€¢ <strong>Healthchecks</strong> pour monitoring</p>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 6.2: CrÃ©er Stack Training</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Stacks â†’ Add stack â†’ Name: "training-lamp"</span>
                                        <button class="hint-btn" onclick="showHint('create_stack')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Editor â†’ Coller le YAML LAMP stack</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Deploy stack â†’ Observer dÃ©ploiement en temps rÃ©el</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>VÃ©rifier : 3 conteneurs crÃ©Ã©s (web, db, phpmyadmin)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Test : http://127.0.0.1:8093 (Apache), :8094 (phpMyAdmin)</span>
                                    </div>
                                </div>
                                
                                <div style="background: #1e1e1e; color: #00ff88; padding: 15px; border-radius: 8px; font-family: monospace; margin: 15px 0;">
                                    <div style="color: #ccc; margin-bottom: 10px;">YAML Stack LAMP :</div>
<pre style="margin: 0; font-size: 0.85em;">version: '3.8'
services:
  web:
    image: php:8.0-apache
    ports:
      - "8093:80"
    volumes:
      - web_data:/var/www/html
  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: training123
      MYSQL_DATABASE: testdb
    volumes:
      - db_data:/var/lib/mysql
  pma:
    image: phpmyadmin:latest
    ports:
      - "8094:80"
    environment:
      PMA_HOST: db
volumes:
  web_data:
  db_data:</pre>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 6.3: Gestion Stack</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Stack training-lamp â†’ Editor â†’ Modifier port web (8093â†’8095)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Update stack â†’ Observer rolling update</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>VÃ©rifier nouveau port http://127.0.0.1:8095</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Stop stack â†’ Start stack (contrÃ´le cycle de vie)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 7: Images & Registry -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">7</div>
                        <div class="step-title">Images Docker - Build & Gestion</div>
                        <button class="solutions-tab" onclick="showSolutions(7)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š Images & Layers</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ—ï¸ SystÃ¨me de Couches</h4>
                                <div style="background: #1e1e1e; padding: 15px; border-radius: 8px; font-family: monospace;">
<pre style="color: #00ff88; margin: 0;">
ğŸ“Š NGINX IMAGE LAYERS           ğŸ” TAILLES TYPIQUES
nginx:alpine                    â€¢ Alpine base: ~5MB
â”œâ”€â”€ Layer 1: Alpine 3.18        â€¢ Ubuntu base: ~70MB
â”œâ”€â”€ Layer 2: nginx install      â€¢ CentOS base: ~200MB
â”œâ”€â”€ Layer 3: config files       â€¢ Node.js: ~180MB
â””â”€â”€ Layer 4: startup script     â€¢ Python 3.9: ~45MB

ğŸ’¡ PARTAGE DE COUCHES           ğŸš€ OPTIMISATIONS
Images avec mÃªme base           â€¢ Multi-stage builds
partagent les layers           â€¢ .dockerignore
= Ã‰conomie d'espace             â€¢ Minimal base images
</pre>
                                </div>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ“¦ Sources d'Images</h4>
                                <p>
                                â€¢ <strong>Docker Hub :</strong> Registry public principal<br>
                                â€¢ <strong>GitHub Packages :</strong> ghcr.io/user/image<br>
                                â€¢ <strong>Cloud registries :</strong> AWS ECR, Azure ACR<br>
                                â€¢ <strong>Registries privÃ©s :</strong> Harbor, Nexus<br>
                                â€¢ <strong>Builds locaux :</strong> Dockerfile custom
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ”¨ Manipulation Images</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 7.1: Audit Images CyberLab</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Images â†’ Trier par Size â†’ Identifier top 5 plus grosses</span>
                                        <button class="hint-btn" onclick="showHint('images_audit')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>nginx:alpine â†’ Inspect â†’ Analyser les layers</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Comparer tailles : Alpine vs Ubuntu vs CentOS bases</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Images unused â†’ Lister images non utilisÃ©es</span>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.05)); border: 2px solid #ffd700; border-radius: 15px; padding: 20px; margin: 20px 0;">
                                    <h4 style="color: #ff8c00;">ğŸ“Š Images CyberLab Typiques</h4>
                                    <p><strong>Analyse des tailles :</strong></p>
                                    <p>â€¢ <strong>nginx:alpine</strong> (~23MB) - LÃ©ger et sÃ©curisÃ©<br>
                                    â€¢ <strong>mysql:8.0</strong> (~500MB) - Base complÃ¨te<br>
                                    â€¢ <strong>kalilinux/kali-rolling</strong> (~1.5GB) - Outils complets<br>
                                    â€¢ <strong>owasp/webgoat</strong> (~450MB) - Java + dÃ©pendances</p>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 7.2: Pull & Tag Images</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Images â†’ Pull image â†’ "alpine:latest"</span>
                                        <button class="hint-btn" onclick="showHint('pull_image')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Observer download des layers en temps rÃ©el</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Image alpine â†’ Tag â†’ "training/alpine:v1.0"</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>VÃ©rifier : 2 tags pointent vers mÃªme image ID</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 7.3: Build Custom Image</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Images â†’ Build image â†’ Name: "training/custom-web"</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Build method: Upload</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Dockerfile simple avec nginx + page custom</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Observer build process et layers crÃ©Ã©s</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Test: conteneur avec image custom (port 8096)</span>
                                    </div>
                                </div>
                                
                                <div style="background: #1e1e1e; color: #00ff88; padding: 15px; border-radius: 8px; font-family: monospace; margin: 15px 0;">
                                    <div style="color: #ccc; margin-bottom: 10px;">Dockerfile exemple :</div>
<pre style="margin: 0; font-size: 0.85em;">FROM nginx:alpine
COPY index.html /usr/share/nginx/html/
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]</pre>
                                    <div style="color: #ccc; margin: 10px 0 5px 0;">index.html :</div>
<pre style="margin: 0; font-size: 0.85em;">&lt;h1&gt;Training Docker Image&lt;/h1&gt;
&lt;p&gt;Built with Portainer!&lt;/p&gt;</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 8: Monitoring & Performance -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">8</div>
                        <div class="step-title">Monitoring & Performance</div>
                        <button class="solutions-tab" onclick="showSolutions(8)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š Monitoring Production</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ“Š MÃ©triques Essentielles</h4>
                                <p>
                                â€¢ <strong>CPU Usage :</strong> % utilisation par conteneur<br>
                                â€¢ <strong>Memory :</strong> RAM + Swap, limites<br>
                                â€¢ <strong>Network I/O :</strong> Bytes in/out, connections<br>
                                â€¢ <strong>Block I/O :</strong> IOPS disque, throughput<br>
                                â€¢ <strong>PIDs :</strong> Nombre processus actifs<br>
                                â€¢ <strong>Uptime :</strong> StabilitÃ© services
                                </p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>âš¡ Optimisation Performance</h4>
                                <p>
                                â€¢ <strong>Resource limits :</strong> Ã‰viter memory leaks<br>
                                â€¢ <strong>Health checks :</strong> Auto-restart dÃ©faillants<br>
                                â€¢ <strong>Multi-stage builds :</strong> Images lÃ©gÃ¨res<br>
                                â€¢ <strong>Caching layers :</strong> Builds plus rapides<br>
                                â€¢ <strong>Volume drivers :</strong> Performance I/O
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ“ˆ Analysis Performance</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 8.1: Monitoring Live</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Dashboard â†’ Resource usage overview</span>
                                        <button class="hint-btn" onclick="showHint('system_monitoring')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Container training-lamp_web â†’ Stats temps rÃ©el</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>GÃ©nÃ©rer charge : ab -n 100 -c 10 http://127.0.0.1:8095/</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Observer spikes CPU/Memory pendant le test</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 8.2: Resource Limits</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Add container â†’ nginx â†’ Name: "limited-web"</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Advanced â†’ Resources â†’ Memory: 64MB, CPU: 0.5</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Deploy â†’ Stats â†’ VÃ©rifier limites appliquÃ©es</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Comparer avec conteneur sans limites</span>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                                    <p><strong>ğŸ’¡ Resource limits :</strong> ProtÃ¨gent le systÃ¨me contre les conteneurs gourmands !</p>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 8.3: Health Checks</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Edit training-lamp stack â†’ Ajouter healthcheck web</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Update stack â†’ Observer health status</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Container details â†’ Health check logs</span>
                                    </div>
                                </div>
                                
                                <div style="background: #1e1e1e; color: #00ff88; padding: 15px; border-radius: 8px; font-family: monospace; margin: 15px 0;">
                                    <div style="color: #ccc; margin-bottom: 10px;">Healthcheck YAML :</div>
<pre style="margin: 0; font-size: 0.85em;">healthcheck:
  test: ["CMD", "curl", "-f", "http://localhost"]
  interval: 30s
  timeout: 10s
  retries: 3</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 9: SÃ©curitÃ© Docker -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">9</div>
                        <div class="step-title">SÃ©curitÃ© Docker - Bonnes Pratiques</div>
                        <button class="solutions-tab" onclick="showSolutions(9)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š SÃ©curitÃ© Conteneurs</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ”’ Vecteurs de Risque</h4>
                                <p>
                                â€¢ <strong>Root containers :</strong> PrivilÃ¨ges excessifs<br>
                                â€¢ <strong>Image vulnerabilities :</strong> CVE non patchÃ©es<br>
                                â€¢ <strong>Network exposure :</strong> Ports inutiles exposÃ©s<br>
                                â€¢ <strong>Secrets exposure :</strong> Passwords en clear<br>
                                â€¢ <strong>Docker socket :</strong> AccÃ¨s daemon Docker
                                </p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ›¡ï¸ Mesures PrÃ©ventives</h4>
                                <p>
                                â€¢ <strong>Non-root users :</strong> UID/GID mapping<br>
                                â€¢ <strong>Read-only FS :</strong> Conteneurs immutables<br>
                                â€¢ <strong>Capabilities :</strong> PrivilÃ¨ges Linux minimaux<br>
                                â€¢ <strong>Network segmentation :</strong> Isolation services<br>
                                â€¢ <strong>Secrets management :</strong> Variables chiffrÃ©es
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ” Audit & Hardening</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 9.1: Security Audit</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Container cyberlab_dashboard â†’ Inspect â†’ User section</span>
                                        <button class="hint-btn" onclick="showHint('security_audit')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>VÃ©rifier si UID=0 (root) ou non-root</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Network â†’ Ports exposÃ©s vs nÃ©cessaires</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Volumes â†’ Bind mounts sensibles (/var/run/docker.sock)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Environment â†’ Mots de passe en clair</span>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, rgba(255,193,7,0.1), rgba(220,53,69,0.05)); border: 2px solid #dc3545; border-radius: 15px; padding: 20px; margin: 20px 0;">
                                    <h4 style="color: #dc3545;">ğŸš¨ Findings Audit CyberLab</h4>
                                    <p><strong>Points d'attention dÃ©tectÃ©s :</strong></p>
                                    <p>â€¢ <strong>Root containers :</strong> Plusieurs services UID=0<br>
                                    â€¢ <strong>Docker socket :</strong> Dashboard accÃ¨s complet daemon<br>
                                    â€¢ <strong>Network :</strong> Services sur mÃªme rÃ©seau<br>
                                    â€¢ <strong>Passwords :</strong> Variables d'environnement visibles</p>
                                    <p><em>âš ï¸ Normal pour environnement de formation, dangereux en production !</em></p>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 9.2: Conteneur Durci</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Add container â†’ nginx:alpine â†’ Name: "secure-nginx"</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Advanced â†’ Security/Host â†’ User: 1001:1001</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Read-only root filesystem: âœ…</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>No new privileges: âœ…</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Deploy â†’ Tester fonctionnement sÃ©curisÃ©</span>
                                    </div>
                                </div>
                                
                                <div style="background: rgba(40, 167, 69, 0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                                    <p><strong>âœ… RÃ©sultat :</strong> Conteneur fonctionnel avec surface d'attaque minimale !</p>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 9.3: Network Isolation</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Networks â†’ Add â†’ "secure_network" (10.30.0.0/24)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>DÃ©ployer secure-nginx sur secure_network</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Tester isolation : ping depuis training_network</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>VÃ©rifier : pas de communication inter-rÃ©seaux</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Module 10: Troubleshooting & DevOps -->
                <div class="step-card">
                    <div class="step-header">
                        <div class="step-number">10</div>
                        <div class="step-title">Troubleshooting & DevOps Mastery</div>
                        <button class="solutions-tab" onclick="showSolutions(10)">ğŸ’¡ Solutions Live</button>
                    </div>
                    
                    <div class="step-content">
                        <div class="theory-section theory">
                            <div class="section-title">ğŸ“š Diagnostic Professionnel</div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ” MÃ©thodologie Debug</h4>
                                <p>
                                1. <strong>SymptÃ´me :</strong> Identifier le problÃ¨me<br>
                                2. <strong>HypothÃ¨ses :</strong> Causes possibles<br>
                                3. <strong>Tests :</strong> Validation hypothÃ¨ses<br>
                                4. <strong>Isolation :</strong> Reproduire le bug<br>
                                5. <strong>Correction :</strong> Patch et tests<br>
                                6. <strong>Documentation :</strong> Post-mortem
                                </p>
                            </div>
                            
                            <div class="docker-concept">
                                <h4>ğŸ› ï¸ Outils Debug Docker</h4>
                                <p>
                                â€¢ <strong>Logs analysis :</strong> Patterns, timestamps<br>
                                â€¢ <strong>Exec interactif :</strong> Shell dans conteneur<br>
                                â€¢ <strong>Inspect dÃ©taillÃ© :</strong> Configuration complÃ¨te<br>
                                â€¢ <strong>Stats temps rÃ©el :</strong> MÃ©triques systÃ¨me<br>
                                â€¢ <strong>Network troubleshooting :</strong> DNS, connectivitÃ©
                                </p>
                            </div>
                        </div>

                        <div class="practice-section practice">
                            <div class="section-title">ğŸ”§ RÃ©solution ProblÃ¨mes</div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 10.1: Simulation Panne ContrÃ´lÃ©e</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>CrÃ©er conteneur "problematic-app" avec limite 32MB</span>
                                        <button class="hint-btn" onclick="showHint('debug_scenario')">ğŸ’¡</button>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Observer crash OOM (Out Of Memory)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Analyser exit code et cause dans logs</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Solution : augmenter limite mÃ©moire</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>VÃ©rifier stabilitÃ© aprÃ¨s correction</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 10.2: Network Debugging</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>ProblÃ¨me simulÃ© : service injoignable</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Debug 1 : VÃ©rifier Ã©tat conteneur (running?)</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Debug 2 : Mapping ports correct?</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Debug 3 : Firewall/iptables rÃ¨gles</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Debug 4 : Logs applicatifs pour erreurs</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="interactive-exercise">
                                <div class="exercise-title">ğŸ¯ Exercise 10.3: Performance Tuning</div>
                                
                                <div class="checklist">
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Identifier conteneur avec highest CPU usage</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Analyser cause : logs, processus, charge</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Optimisations : resource limits, replicas</span>
                                    </div>
                                    <div class="checklist-item">
                                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                                        <span>Monitoring post-optimisation</span>
                                    </div>
                                </div>
                                
                                <div style="background: linear-gradient(135deg, rgba(255,215,0,0.1), rgba(255,140,0,0.05)); border: 2px solid #ffd700; border-radius: 15px; padding: 25px; margin: 25px 0;">
                                    <h4 style="color: #ffd700; margin-bottom: 15px;">ğŸ† CERTIFICATION PORTAINER MASTER</h4>
                                    <p><strong>ğŸ‰ FÃ©licitations ! Vous maÃ®trisez maintenant :</strong></p>
                                    <p>âœ… <strong>Interface Portainer</strong> - Navigation experte<br>
                                    âœ… <strong>Conteneurs Docker</strong> - Analyse, monitoring, debugging<br>
                                    âœ… <strong>RÃ©seaux & Volumes</strong> - CrÃ©ation, isolation, persistance<br>
                                    âœ… <strong>Stacks & Compose</strong> - Orchestration multi-services<br>
                                    âœ… <strong>Images & Registry</strong> - Build, optimisation, gestion<br>
                                    âœ… <strong>Monitoring & Performance</strong> - MÃ©triques, limites<br>
                                    âœ… <strong>SÃ©curitÃ© Docker</strong> - Hardening, audit, bonnes pratiques<br>
                                    âœ… <strong>Troubleshooting</strong> - Diagnostic, rÃ©solution</p>
                                    
                                    <p><strong>ğŸ¯ Niveau atteint :</strong> Docker Expert / DevOps Engineer</p>
                                    <p><strong>ğŸ¢ CompÃ©tences pro :</strong> Administration conteneurs production</p>
                                    
                                    <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #ffd700;">
                                        <p><strong>ğŸš€ Ã‰tapes suivantes recommandÃ©es :</strong></p>
                                        <p>â€¢ Kubernetes (orchestration avancÃ©e)<br>
                                        â€¢ CI/CD avec Docker (GitLab, Jenkins)<br>
                                        â€¢ Monitoring avancÃ© (Prometheus, Grafana)<br>
                                        â€¢ Security scanning (Trivy, Clair)</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Cleanup des conteneurs de test -->
            <div style="background: rgba(220,53,69,0.1); border: 2px solid #dc3545; border-radius: 15px; padding: 20px; margin: 30px 0;">
                <h3 style="color: #dc3545; margin-bottom: 15px;">ğŸ§¹ Nettoyage Environnement</h3>
                <p><strong>AprÃ¨s formation, nettoyer les conteneurs de test :</strong></p>
                <div class="checklist">
                    <div class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <span>Supprimer stack "training-lamp"</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <span>Remove containers : test-web1, test-web2, secure-nginx</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <span>Remove networks : training_network, secure_network</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <span>Remove volumes : training_data (si plus utilisÃ©)</span>
                    </div>
                    <div class="checklist-item">
                        <div class="checkbox" onclick="toggleCheck(this)"></div>
                        <span>Images â†’ Remove unused images (alpine, custom builds)</span>
                    </div>
                </div>
                <p style="margin-top: 15px;"><em>âš ï¸ CyberLab reste intact et fonctionnel !</em></p>
            </div>
        </div>
    </div>

    <!-- JavaScript pour le systÃ¨me de corrections et interactions -->
    <script>
        // SystÃ¨me de corrections live pour chaque module
        function showSolutions(moduleNum) {
            const solutions = {
                1: `ğŸ¯ SOLUTIONS MODULE 1 - Fondamentaux & Connexion

âœ… Connexion Portainer :
- URL exacte : http://127.0.0.1:9000
- Si premiÃ¨re fois : crÃ©er admin/password
- Si dÃ©jÃ  configurÃ© : utiliser credentials existants
- Erreur de connexion ? â†’ docker ps | grep portainer

âœ… Dashboard Overview :
- Containers actifs : ~13 (tous CyberLab services)
- Images prÃ©sentes : ~25 (stack complÃ¨te)
- CPU usage normal : 15-35% selon activitÃ©
- Memory usage : 2-6GB selon utilisation
- Endpoint : "local" (Docker daemon local)

âœ… Navigation Interface :
- Menu gauche : Dashboard, Containers, Images, Networks, Volumes, Stacks, Events, Settings
- Quick actions : en haut Ã  droite (Add container, etc.)
- Recherche globale : Ctrl+K
- Refresh automatique stats : toutes les 5 secondes`,

                2: `ğŸ¯ SOLUTIONS MODULE 2 - Observation Conteneurs

âœ… Dashboard CyberLab Analysis :
- Image : cyberlab/dashboard:latest (nginx)
- IP : 172.35.0.20 (rÃ©seau v100_cyberlab_network)
- Ports : 80:8080 (conteneur:hÃ´te)
- Volume : bind mount vers /var/www/html
- Variables importantes : MYSQL_HOST, MYSQL_DATABASE

âœ… WebGoat Forensics :
- Image : webgoat/goatandwolf ou webgoat/webgoat
- Ports : 8080 (interne), 9090 (JMX), mappÃ© sur 8082
- RAM usage : 400-800MB selon activitÃ©
- JVM : OpenJDK 11+ avec Spring Boot
- RÃ©seau : v100_cyberlab_network
- Status : Always running (restart: unless-stopped)

âœ… Stats Temps RÃ©el :
- Container â†’ [nom] â†’ Stats tab
- MÃ©triques : CPU %, Memory usage/limit, Network RX/TX, Block I/O
- Refresh auto : toutes les 2 secondes`,

                3: `ğŸ¯ SOLUTIONS MODULE 3 - Analyse Logs

âœ… Logs Dashboard Nginx :
- Format : Combined Log Format Apache
- Pattern : IP - - [timestamp] "METHOD /path HTTP/1.1" status size
- IP source : 172.35.0.1 (Docker host)
- Codes courants : 200 (OK), 304 (Not Modified), 404 (Not Found)
- Pages populaires : /, /exploration_guide.html, /assets/*

âœ… WebGoat Java Startup :
- Message clÃ© : "Started StartWebGoat in X.X seconds"
- JVM info : OpenJDK 11.x.x ou supÃ©rieur
- Port interne : 8080 (Spring Boot Tomcat)
- Profil actif : standalone ou webgoat
- Base URL : http://localhost:8080/WebGoat

âœ… Debug Techniques :
- Live tailing : logs auto-refresh activÃ©
- Pattern matching : rechercher ERROR, WARN, Exception
- Timestamp correlation : mÃªme temps = Ã©vÃ©nements liÃ©s
- Multi-services : ouvrir plusieurs onglets logs`,

                4: `ğŸ¯ SOLUTIONS MODULE 4 - RÃ©seaux Docker

âœ… CyberLab Network Analysis :
- Nom : v100_cyberlab_network
- Type : bridge custom avec DNS
- Subnet : 172.35.0.0/24 (254 IPs disponibles)
- Gateway : 172.35.0.1
- Driver : bridge avec isolation par dÃ©faut

âœ… Plan d'Adressage :
- Gateway : 172.35.0.1
- Portainer : 172.35.0.2
- Dashboard : 172.35.0.20
- WebGoat : 172.35.0.80
- DVWA : 172.35.0.81
- Juice Shop : 172.35.0.83
- Kali : 172.35.0.100

âœ… RÃ©seau Test Creation :
- Nom : training_network
- Subnet : 10.20.0.0/24 (Ã©viter conflits)
- DNS intÃ©grÃ© : containers peuvent se pinger par nom
- Isolation : containers sur rÃ©seaux diffÃ©rents ne communiquent pas`,

                5: `ğŸ¯ SOLUTIONS MODULE 5 - Volumes Docker

âœ… Volumes CyberLab Existants :
- mysql_data : base de donnÃ©es MySQL persistante
- wazuh_data : donnÃ©es SIEM Wazuh
- Driver : local (stockage sur hÃ´te Docker)
- Location : /var/lib/docker/volumes/[nom]/_data

âœ… Volume Test Creation :
- Nom : training_data
- Type : Docker managed volume
- Mount point conteneur : /data
- Persistance : survit Ã  suppression conteneur
- Sharing : plusieurs conteneurs peuvent monter mÃªme volume

âœ… Bind vs Volume :
- Bind mount : /host/path:/container/path (dÃ©veloppement)
- Docker volume : volume_name:/container/path (production)
- tmpfs : RAM temporaire (cache, performances)`,

                6: `ğŸ¯ SOLUTIONS MODULE 6 - Stacks & Compose

âœ… Stack CyberLab Structure :
- Services : ~13 dÃ©finis (dashboard, webgoat, dvwa, etc.)
- Network : v100_cyberlab_network avec IPs fixes
- Volumes : mysql_data, wazuh_data pour persistance
- depends_on : ordre de dÃ©marrage (db avant apps)
- Environment : variables centralisÃ©es par service

âœ… LAMP Stack YAML :
version: '3.8'
services:
  web:
    image: php:8.0-apache
    ports: ["8093:80"]
    volumes: [web_data:/var/www/html]
  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: training123
      MYSQL_DATABASE: testdb
volumes: {web_data:, db_data:}

âœ… Stack Management :
- Deploy : crÃ©ation tous services simultanÃ©ment  
- Update : rolling update sans downtime
- Stop/Start : contrÃ´le cycle de vie complet`,

                7: `ğŸ¯ SOLUTIONS MODULE 7 - Images Docker

âœ… Images Audit CyberLab :
- nginx:alpine : ~23MB (base minimaliste)
- mysql:8.0 : ~500MB (base complÃ¨te avec outils)
- kalilinux/kali-rolling : ~1.5GB (distribution complÃ¨te)
- webgoat containers : ~400-600MB (Java + dÃ©pendances)

âœ… Layer System :
- Chaque ligne Dockerfile = 1 layer
- Layers partagÃ©s entre images similaires
- Cache intelligent lors des builds
- Optimisation : combiner RUN commands

âœ… Build Process :
- Dockerfile â†’ docker build â†’ image
- Tags : versioning et aliases  
- Registry : push/pull depuis Docker Hub
- Multi-stage : build optimisÃ© (dev deps vs prod)`,

                8: `ğŸ¯ SOLUTIONS MODULE 8 - Monitoring

âœ… MÃ©triques Key Performance :
- CPU % : utilisation processeur par conteneur
- Memory : RAM utilisÃ©e vs limite dÃ©finie
- Network I/O : trafic entrant/sortant en bytes
- Block I/O : lectures/Ã©critures disque (IOPS)
- PIDs : nombre processus actifs

âœ… Resource Limits :
- Memory limit : Ã©vite OOM kill systÃ¨me
- CPU limit : 0.5 = 50% d'1 CPU core
- Monitoring : stats temps rÃ©el dans Portainer
- Alerting : health checks pour auto-restart

âœ… Performance Optimization :
- Right-sizing : limites appropriÃ©es par workload
- Health checks : dÃ©tection proactive pannes
- Multi-stage builds : images plus lÃ©gÃ¨res
- Volume drivers : I/O performance selon usage`,

                9: `ğŸ¯ SOLUTIONS MODULE 9 - SÃ©curitÃ© Docker

âœ… Security Audit Results :
- Root containers : plusieurs services UID=0 (normal formation)
- Docker socket : /var/run/docker.sock montÃ© (dashboard admin)
- Network : tous services mÃªme rÃ©seau (isolation limitÃ©e)  
- Secrets : passwords en variables d'environnement (visible)

âœ… Hardening Techniques :
- Non-root user : UID/GID 1001:1001
- Read-only filesystem : immutable containers
- No new privileges : prevent privilege escalation
- Minimal capabilities : drop ALL, add minimum required
- Network isolation : separate networks par fonction

âœ… Production Recommendations :
- Secrets management : Docker secrets ou Vault
- Network policies : micro-segmentation
- Image scanning : Trivy, Snyk pour CVE
- Runtime security : Falco pour anomaly detection`,

                10: `ğŸ¯ SOLUTIONS MODULE 10 - Troubleshooting

âœ… Debug Methodology :
1. Symptom identification : what's broken?
2. Log analysis : container logs, system logs
3. Resource check : CPU/Memory/Disk/Network
4. Configuration review : ports, networks, volumes
5. Isolation testing : minimal reproduction case
6. Fix implementation : patch and verify

âœ… Common Issues & Fixes :
- Container won't start â†’ check image, ports, resources
- Service unreachable â†’ verify port mapping, networks
- Performance issues â†’ check resource limits, logs
- Data loss â†’ verify volume mounts, persistence
- Memory leaks â†’ analyze resource usage trends

âœ… Production Best Practices :
- Health checks : proactive monitoring
- Resource limits : prevent resource exhaustion  
- Logging strategy : centralized log management
- Backup procedures : data and configuration
- Monitoring alerts : automated issue detection

ğŸ† CERTIFICATION COMPLETE!
Vous Ãªtes maintenant Docker + Portainer Expert !`
            };
            
            const solution = solutions[moduleNum] || "Solutions en cours de prÃ©paration...";
            
            // CrÃ©er une popup personnalisÃ©e
            const popup = document.createElement('div');
            popup.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.8);
                z-index: 10000;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 20px;
            `;
            
            popup.innerHTML = `
                <div style="
                    background: white;
                    border-radius: 15px;
                    padding: 30px;
                    max-width: 800px;
                    max-height: 80vh;
                    overflow-y: auto;
                    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
                ">
                    <div style="
                        background: linear-gradient(135deg, #28a745, #20c997);
                        color: white;
                        padding: 15px 20px;
                        margin: -30px -30px 20px -30px;
                        border-radius: 15px 15px 0 0;
                        font-weight: bold;
                        font-size: 1.2em;
                    ">
                        ğŸ’¡ Solutions Live - Module ${moduleNum}
                    </div>
                    <pre style="
                        white-space: pre-wrap;
                        line-height: 1.6;
                        font-family: 'Segoe UI', sans-serif;
                        color: #333;
                        margin: 0;
                        font-size: 0.95em;
                    ">${solution}</pre>
                    <div style="text-align: center; margin-top: 25px;">
                        <button onclick="this.closest('div').parentElement.remove()" style="
                            background: linear-gradient(135deg, #007bff, #0056b3);
                            color: white;
                            border: none;
                            padding: 12px 30px;
                            border-radius: 25px;
                            cursor: pointer;
                            font-weight: bold;
                        ">âœ… Fermer</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(popup);
        }

        // SystÃ¨me d'aide contextuelle
        function showHint(hintId) {
            const hints = {
                'portainer_connect': 'Astuce : Si Portainer ne rÃ©pond pas, vÃ©rifiez "docker ps | grep portainer" pour confirmer que le conteneur est running',
                'portainer_login': 'Astuce : Si premiÃ¨re connexion, crÃ©ez admin/password. Sinon utilisez les credentials existants du lab',
                'dashboard_reading': 'Astuce : Dashboard montre vue d\'ensemble : containers actifs, images, CPU/RAM global, version Docker',
                'container_inspect': 'Astuce : Inspect = configuration complÃ¨te en JSON. Utilisez Ctrl+F pour chercher dans la config',
                'realtime_stats': 'Astuce : Stats se refreshent auto toutes les 2s. GÃ©nÃ©rez du trafic pour voir l\'impact en temps rÃ©el',
                'nginx_logs': 'Astuce : Logs nginx format "Combined" = IP timestamp "METHOD /path" status_code response_size',
                'java_startup': 'Astuce : Cherchez "Started StartWebGoat" pour confirmer startup complet application Java',
                'network_inspect': 'Astuce : Section Connected containers montre tous les conteneurs sur ce rÃ©seau avec leurs IPs',
                'create_network': 'Astuce : Utilisez subnet privÃ©s (10.x, 172.x, 192.168.x) pour Ã©viter conflits rÃ©seau',
                'volume_inspect': 'Astuce : Mountpoint montre localisation rÃ©elle sur hÃ´te Docker (/var/lib/docker/volumes/)',
                'create_volume': 'Astuce : Volumes Docker sont managed, bind mounts sont des chemins hÃ´te directs',
                'stack_editor': 'Astuce : Editor Portainer valide YAML en temps rÃ©el et colore la syntaxe',
                'create_stack': 'Astuce : Variables d\'environnement peuvent Ãªtre dÃ©finies dans l\'interface ou fichier .env',
                'images_audit': 'Astuce : Trier par taille rÃ©vÃ¨le images gourmandes. Alpine = minimal, Ubuntu = complet',
                'pull_image': 'Astuce : Pull tÃ©lÃ©charge toutes les layers. Layers dÃ©jÃ  prÃ©sentes sont skippÃ©es (cache)',
                'system_monitoring': 'Astuce : Dashboard systÃ¨me montre usage global, Stats par conteneur = dÃ©tail individuel',
                'security_audit': 'Astuce : User UID=0 = root, ports exposÃ©s = surface d\'attaque, docker.sock = accÃ¨s total',
                'debug_scenario': 'Astuce : Exit codes : 0=OK, 137=SIGKILL (OOM), 125=Docker error, 126=container error'
            };
            
            const hint = hints[hintId] || "Astuce : Consultez la documentation Portainer officielle pour plus de dÃ©tails !";
            
            // Notification style toast
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #17a2b8, #138496);
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.3);
                z-index: 9999;
                max-width: 400px;
                font-size: 0.9em;
                animation: slideIn 0.3s ease-out;
            `;
            
            // Ajouter animation CSS
            if (!document.querySelector('#hint-animation-style')) {
                const style = document.createElement('style');
                style.id = 'hint-animation-style';
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            toast.innerHTML = hint;
            document.body.appendChild(toast);
            
            // Auto-remove aprÃ¨s 5 secondes
            setTimeout(() => {
                toast.style.animation = 'slideIn 0.3s ease-out reverse';
                setTimeout(() => toast.remove(), 300);
            }, 5000);
        }

        // Validation intelligente des exercices
        function validateExercise(moduleNum, exerciseNum) {
            const currentChecked = document.querySelectorAll(`#portainer .step-card:nth-child(${moduleNum}) .checkbox.checked`).length;
            
            if (currentChecked >= 3) {
                const messages = {
                    1: 'âœ… Module 1 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Navigation interface Portainer\nâ€¢ ComprÃ©hension architecture Docker\nâ€¢ Analyse dashboard systÃ¨me',
                    2: 'âœ… Module 2 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Inspection conteneurs avancÃ©e\nâ€¢ Monitoring temps rÃ©el\nâ€¢ Analyse mÃ©triques performance',
                    3: 'âœ… Module 3 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Analyse logs multi-services\nâ€¢ Debug applications web/Java\nâ€¢ CorrÃ©lation Ã©vÃ©nements',
                    4: 'âœ… Module 4 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Architecture rÃ©seau Docker\nâ€¢ CrÃ©ation rÃ©seaux custom\nâ€¢ Tests connectivitÃ©/isolation',
                    5: 'âœ… Module 5 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Gestion volumes Docker\nâ€¢ Persistance donnÃ©es\nâ€¢ Partage entre conteneurs',
                    6: 'âœ… Module 6 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Orchestration Docker Compose\nâ€¢ Gestion stacks Portainer\nâ€¢ DÃ©ploiements multi-services',
                    7: 'âœ… Module 7 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Gestion images Docker\nâ€¢ Build et optimisation\nâ€¢ Registry et versioning',
                    8: 'âœ… Module 8 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Monitoring production\nâ€¢ Resource limits\nâ€¢ Performance tuning',
                    9: 'âœ… Module 9 validÃ© !\n\nğŸ¯ CompÃ©tences acquises :\nâ€¢ Security audit Docker\nâ€¢ Hardening conteneurs\nâ€¢ Bonnes pratiques sÃ©curitÃ©',
                    10: 'âœ… Module 10 validÃ© !\n\nğŸ† FORMATION COMPLÃˆTE !\nâ€¢ Troubleshooting expert\nâ€¢ MÃ©thodologie debug\nâ€¢ DevOps Docker ready'
                };
                
                alert(messages[moduleNum] || `âœ… Module ${moduleNum} validÃ© avec succÃ¨s !`);
                
                // Animation de succÃ¨s
                const moduleCard = document.querySelector(`#portainer .step-card:nth-child(${moduleNum})`);
                moduleCard.style.border = '3px solid #28a745';
                moduleCard.style.boxShadow = '0 0 20px rgba(40,167,69,0.5)';
                setTimeout(() => {
                    moduleCard.style.border = '';
                    moduleCard.style.boxShadow = '';
                }, 3000);
                
                return true;
            } else {
                alert(`âš ï¸ Module ${moduleNum} incomplet\n\nComplÃ©tez au moins 3 activitÃ©s pratiques avant validation !`);
                return false;
            }
        }

        // Fonction pour les checkboxes (rÃ©utilise la fonction existante si elle existe)
        if (typeof toggleCheck === 'undefined') {
            function toggleCheck(element) {
                element.classList.toggle('checked');
                updatePortainerProgress();
            }
        }

        // Progress tracking
        function updatePortainerProgress() {
            const totalCheckboxes = document.querySelectorAll('#portainer .checkbox').length;
            const checkedBoxes = document.querySelectorAll('#portainer .checkbox.checked').length;
            const progressPercent = Math.round((checkedBoxes / totalCheckboxes) * 100);
            
            console.log(`ğŸ³ Portainer Progress: ${checkedBoxes}/${totalCheckboxes} (${progressPercent}%)`);
            
            // Mise Ã  jour stats dans header si besoin
            const statNumbers = document.querySelectorAll('#portainer .stat-number');
            if (progressPercent === 100 && statNumbers.length > 0) {
                // Effet de cÃ©lÃ©bration Ã  100%
                statNumbers.forEach(stat => {
                    stat.style.color = '#28a745';
                    stat.style.animation = 'pulse 1s infinite';
                });
            }
        }

        // Initialisation module Portainer
        document.addEventListener('DOMContentLoaded', function() {
            // Ajouter styles pour le systÃ¨me de corrections
            const style = document.createElement('style');
            style.textContent = `
                .solutions-tab {
                    background: linear-gradient(135deg, #28a745, #20c997);
                    color: white;
                    border: none;
                    padding: 10px 16px;
                    border-radius: 20px;
                    cursor: pointer;
                    font-size: 0.9em;
                    font-weight: bold;
                    margin-left: auto;
                    transition: all 0.3s ease;
                }
                
                .solutions-tab:hover {
                    background: linear-gradient(135deg, #218838, #1ea87a);
                    transform: translateY(-2px);
                    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
                }
                
                .hint-btn {
                    background: linear-gradient(135deg, #17a2b8, #138496);
                    color: white;
                    border: none;
                    padding: 4px 8px;
                    border-radius: 10px;
                    font-size: 0.8em;
                    cursor: pointer;
                    margin-left: 10px;
                    transition: all 0.3s ease;
                }
                
                .hint-btn:hover {
                    background: linear-gradient(135deg, #138496, #117a8b);
                    transform: scale(1.1);
                }

                .step-header {
                    display: flex;
                    align-items: center;
                    gap: 20px;
                }

                @keyframes pulse {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.1); }
                    100% { transform: scale(1); }
                }
            `;
            document.head.appendChild(style);
            
            console.log('ğŸš€ Portainer Master Guide loaded!');
            console.log('ğŸ“š 10 modules avec solutions live disponibles');
            console.log('ğŸ¯ 50+ exercices pratiques intÃ©grÃ©s');
        });
    </script>
